scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
labels = c("0.05","0.25", "0.50", "", "1"),
breaks = c(0.05,0.25,0.50,0.75,1.001))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
labels = c("0.05","0.25", "0.50", "", "1"),
breaks = c(0.05,0.25,0.50,0.75,0.8))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "", "1"),
breaks = c(0.05,0.25,0.50,0.75,0.1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "", "1"),
breaks = c(0.05,0.25,0.50,0.75,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "1"),
breaks = c(0.05,0.25,0.50,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
ggsave("./Figures/Validation/ConfusionMatrixGreen.png", plot_green, width = 671*4, height = 479*4, units = "px" )
ggsave("./Figures/Validation/ConfusionMatrixGreen.png", plot_green, width = 671*4, height = 479*4, units = "px" )
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "1"),
breaks = c(0.05,0.25,0.50,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
axis.text = element_text(size = 20)
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "1"),
breaks = c(0.05,0.25,0.50,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
axis.text = element_text(size = 20),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "1"),
breaks = c(0.05,0.25,0.50,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
axis.text.x = element_text(size = 20),
axis.text.y = element_text(size = 20),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
labels_green<-validation_metrics_green[[2]] %>%
as.numeric() %>%
base::matrix(ncol = 1) %>%
as.data.frame() %>%
rename(label = "V1") %>%
mutate(x = c(0.5,0.5,1.5,1.5),
y = c(1.5,0.5,1.5,0.5))
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "1"),
breaks = c(0.05,0.25,0.50,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
axis.text.x = element_text(size = 20),
axis.text.y = element_text(size = 20, angle =-90),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
plot_green<-ggplot()+
geom_spatraster(data = confmat_rast_green,
na.rm = TRUE
)+
geom_sf(data = confmat_rast_green_sf,
fill = "transparent")+
scale_fill_gradientn(
# colours = c("black","firebrick4","goldenrod","yellow","chartreuse3"),
# colours = c("khaki1","goldenrod","firebrick3","chartreuse4"),
colours = c("khaki1","firebrick4","firebrick4","firebrick4","#3e0b0b"),
# colours = c("#7d0000","#00b300","#00b300","#00b300","#007d00"),
na.value = "white",
trans = "sqrt",
limits = c(0,1),
labels = c("0.05","0.25", "0.50", "1"),
breaks = c(0.05,0.25,0.50,1))+
# scale_fill_Bede("mixed",
#                 discrete = F,
#                 reverse = TRUE,
#                 na.value = "white",
#                 trans = "sqrt",
#                 labels = c("5","25", "50", "75", "100"),
#                 breaks = c(0.05,0.25,0.50,0.75,0.9999))+
labs(fill = "Proportion \n of pixels")+
scale_x_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Chlorophyceae","Magnoliopsida"),
expand = c(0, 0),
position = "top",
limits = c(0,2))+
scale_y_continuous(breaks = seq(0.5,1.5, by = 1),
labels = c("Magnoliopsida","Chlorophyceae"),
expand = c(0, 0),
limits = c(0,2))+
geom_label(data = labels_green,aes(x = x, y = y, label = label ))+
xlab("References")+
ylab("Prediction")+
# ggplot2::annotation_custom(ggplotGrob(small_validation_matrices), xmin = 12, ymin = 0)+
theme_Bede()+
theme(
panel.border = element_blank(),
axis.line=element_blank(),
axis.text.x = element_text(size = 20),
axis.text.y = element_text(size = 20, angle =90, hjust = 0.5),
# legend.position = "top",
# legend.position = c(0.73, 0.9),
# legend.direction="horizontal",
# legend.key.width = unit(2,"cm"),
legend.text = element_text(size = 20),
legend.title = element_text(size = 20, vjust = 2),
legend.title.align = 0.5,
legend.justification = "center")
plot_green
ggsave("./Figures/Validation/ConfusionMatrixGreen.png", plot_green, width = 671*4, height = 479*4, units = "px" )
df_training<-read.csv("Data/training/TrainandValid_NewStanRawMetrics_Processed.csv")
validation_metrics_green
validation_metrics_green$overall
validation_metrics_green$overall[1]
validation_metrics_green$overall[[1]]
quarto render
